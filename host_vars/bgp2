# Variablen der Routing VM BGP2 (vm1020)
# Die Server-IP-Adresse wird durch von Ansible bereitgestellte Variablen abgerufen (ansible_eth0.ipv4...)

# ID des Servers.
# Hieraus wird die IP-Adresse innerhalb des Freifunk Netzwerkes gebildet.
#server_id: 2
#vm_id: 2
#server_besitzer: "Jan Gilla / Xermon"
public_v4: 5.9.20.87
#public_v6:
# IPv4 Adresse auf die der Datenverkehr per NAT umgestetzt wird
# Nur für Backbone-Server notwendig
router_ip: 10.198.120.17/32
server_ipv4_nat: 185.66.194.19/32
# !!!!In bird wird die Netzadresse benötigt, in if_lo /32

#ggf in Gruppe verschieben
ff_network:
   as_number: 65242
   v4_network: 10.198.0.0/16
   #Noch gegen v6 /64 Client Netz ersetzen
  # v6_network: 2a03:2260:100d::/48

#GRE-Einstellungen zum Freifunk Rheinland
#+1 auf Rheinland IP = unsere IP
ffrl_gre:
- name: ber0
  gre_target: 185.66.195.0
  v4_local: 100.64.5.17/31
  v4_remote: 100.64.5.16/31
  v6_local: 2a03:2260:0:282::2/64
  v6_remote: 2a03:2260:0:282::1/64
- name: ber1
  gre_target: 185.66.195.1
  v4_local: 100.64.5.23/31
  v4_remote: 100.64.5.22/31
  v6_local: 2a03:2260:0:285::2/64
  v6_remote: 2a03:2260:0:285::1/64
- name: dus0
  gre_target: 185.66.193.0
  v4_local: 100.64.5.21/31
  v4_remote: 100.64.5.20/31
  v6_local: 2a03:2260:0:284::2/64
  v6_remote: 2a03:2260:0:284::1/64
- name: dus1
  gre_target: 185.66.193.1
  v4_local: 100.64.5.27/31
  v4_remote: 100.64.5.26/31
  v6_local: 2a03:2260:0:287::2/64
  v6_remote: 2a03:2260:0:287::1/64
- name: fra0
  gre_target: 185.66.194.0
  v4_local: 100.64.5.19/31
  v4_remote: 100.64.5.18/31
  v6_local: 2a03:2260:0:283::2/64
  v6_remote: 2a03:2260:0:283::1/64
- name: fra1
  gre_target: 185.66.194.1
  v4_local: 100.64.5.25/31
  v4_remote: 100.64.5.24/31
  v6_local: 2a03:2260:0:286::2/64
  v6_remote: 2a03:2260:0:286::1/64

ffwp_bgp_gre:
- name: bgp2to1
  gre_target: "{{ hostvars['bgp1']['public_v4'] }}"
  v4_local: 10.198.120.129/31
  v4_remote: 10.198.120.128/31
  #v6_local:
  #v6_remote:
- name: bgp2to3
  gre_target: "{{ hostvars['bgp3']['public_v4'] }}"
  v4_local: 10.198.120.134/31
  v4_remote: 10.198.120.135/31
  #v6_local:
  #v6_remote:
- name: bgp2to4
  gre_target: "{{ hostvars['bgp4']['public_v4'] }}"
  v4_local: 10.198.120.136/31
  v4_remote: 10.198.120.137/31
  #v6_local:
  #v6_remote:
